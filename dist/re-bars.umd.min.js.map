{"version":3,"file":"re-bars.umd.min.js","sources":["../src/msg.js","../src/utils/index.js","../src/utils/dom.js","../src/constants.js","../src/proxy-trap.js","../src/helpers.js","../src/utils/patch.js","../src/re-render.js","../src/component.js","../src/index.js"],"sourcesContent":["const styles = {\n  warn: \"background: #484915; color: #ffffbe; padding: .1em; font-weight: normal;\",\n  log: \"background: #324645; color:#c9faff; padding: .1em; font-weight: normal;\",\n};\n\nconst _showTpl = ({ template, loc }) => {\n  const lines = template.split(\"\\n\").slice(loc.start.line - 1, loc.end.line);\n  const leadingSpaces = Array(lines[0].length - lines[0].trim().length).join(\" \");\n  lines[0] = lines[0].substr(loc.start.column);\n  lines[lines.length - 1] = lines[lines.length - 1].substr(0, loc.end.column);\n  return [\"\", `template line: ${loc.start.line}`, \"============================================\"]\n    .concat(lines.map(line => line.replace(leadingSpaces, \"\")))\n    .join(\"\\n\");\n};\n\nconst _msg = (type, msg, ...payloads) => {\n  let str = msg;\n  if (typeof payloads[0] === \"object\" && \"template\" in payloads[0] && \"loc\" in payloads[0]) {\n    str += _showTpl(payloads[0]);\n    payloads.splice(0, 1);\n  }\n\n  if ([\"warn\", \"log\"].includes(type)) {\n    str = \"%c \" + str + \" \";\n    if (!window.ReBars || !window.ReBars.trace) return;\n    if (payloads) {\n      console.groupCollapsed(str, styles[type]);\n      payloads.forEach(console.log);\n      console.groupEnd();\n    } else {\n      console.log(str, styles[type]);\n    }\n  } else {\n    payloads.forEach(console.error);\n    throw new Error(str);\n  }\n};\n\nexport default {\n  warn: _msg.bind(null, \"warn\"),\n  fail: _msg.bind(null, \"throw\"),\n  log: _msg.bind(null, \"log\"),\n};\n","let counter = 1;\n\nimport Dom from \"./dom.js\";\nimport Msg from \"../msg.js\";\n\nexport default {\n  dom: Dom,\n\n  stringify(obj, indent = 2) {\n    const parser = (key, val) => (typeof val === \"function\" ? val + \"\" : val);\n    return JSON.stringify(obj, parser, indent);\n  },\n\n  debounce(callback, wait = 0, immediate = false) {\n    let timeout = null;\n\n    return function() {\n      const callNow = immediate && !timeout;\n      const next = () => callback.apply(this, arguments);\n\n      clearTimeout(timeout);\n      timeout = setTimeout(next, wait);\n\n      if (callNow) {\n        next();\n      }\n    };\n  },\n\n  isProp(target) {\n    if (typeof target === \"string\" && target.startsWith(\"$props\")) return true;\n    else if (typeof target === \"object\" && target.ReBarsPath.startsWith(\"$props\")) return true;\n    return false;\n  },\n\n  shouldRender(path, watch) {\n    const watchPaths = Array.isArray(watch) ? watch : [watch];\n    return watchPaths.some(watchPath => {\n      if (path === watchPath || watchPath === \".*\") return true;\n\n      const pathSegs = path.split(\".\");\n      const watchSegs = watchPath.split(\".\");\n\n      return watchSegs.every((seg, index) => {\n        if (seg === pathSegs[index] || seg === \"*\") return true;\n        return false;\n      });\n    });\n  },\n\n  randomId: () => `rbs${counter++}`,\n\n  setKey(obj, path, val) {\n    const arr = path.split(\".\");\n    arr.reduce((pointer, key, index) => {\n      if (!(key in pointer)) Msg.fail(`${path} was not found in object!`, obj);\n      if (index + 1 === arr.length) pointer[key] = val;\n      return pointer[key];\n    }, obj);\n  },\n};\n","import Msg from \"../msg.js\";\n\nexport default {\n  tagComponent(id, html, name) {\n    const $tmp = this.getShadow(html);\n    const $root = $tmp.firstElementChild;\n\n    if (!$root) throw new Error(\"there was no root node. Components need a root element.\");\n    if ([\"P\"].includes($root.nodeName))\n      throw new Error(`<${$root.nodeName.toLowerCase()}> cannot be a root element of for a component, try a <div>`);\n    if ($tmp.children.length > 1) throw new Error(\"multiple root nodes are not allowed for a component.\");\n    if ($root.dataset.rbsWatch) throw new Error(\"cannot have a watch as the root node of a component\");\n\n    $root.dataset.rbsComp = id;\n    const content = $tmp.innerHTML;\n    return content;\n  },\n\n  restoreCursor($target, activeRef) {\n    const $input = this.findRef($target, activeRef.ref);\n\n    if (!$input) return;\n    if (Array.isArray($input)) {\n      Msg.warn(\n        `ref=\"${activeRef.ref}\" is used more than once. Focus cannot be restored. If using bind, add a ref=\"uniqeName\" to each usage`,\n        $input\n      );\n    } else {\n      $input.focus();\n      if (activeRef.pos) $input.setSelectionRange(activeRef.pos + 1, activeRef.pos + 1);\n    }\n  },\n\n  findComponent: id => document.querySelector(`[data-rbs-comp=\"${id}\"]`),\n\n  findRef: ($target, ref) => {\n    if ($target.getAttribute(\"ref\") === ref) return $target;\n    return $target.querySelector(`[ref=\"${ref}\"]`);\n  },\n\n  findRefs(cId) {\n    const $root = this.findComponent(cId);\n    const $refs = Array.from($root.querySelectorAll(\"[ref]\"));\n    if ($root.getAttribute(\"ref\")) $refs.push($root);\n\n    return $refs.reduce((obj, $el) => {\n      const key = $el.getAttribute(\"ref\");\n      const target = obj[key];\n      obj[key] = target ? [target].concat($el) : $el;\n      return obj;\n    }, {});\n  },\n\n  findWatcher: id => document.querySelector(`[data-rbs-watch=\"${id}\"]`),\n\n  propStr: props =>\n    Object.entries(props)\n      .map(([key, val]) => `${key}=\"${val}\"`)\n      .join(\" \"),\n\n  wrapWatcher(id, html, hash) {\n    const { tag, ...props } = { ...{ tag: \"span\" }, ...hash };\n    const propStr = this.propStr(props);\n    const style = !html.length ? \"style='display:none;'\" : \"\";\n    return `<${tag} ${propStr} ${style} data-rbs-watch=\"${id}\">${html}</${tag}>`;\n  },\n\n  getShadow(html) {\n    const $tmp = document.createElement(\"div\");\n    $tmp.innerHTML = html;\n    return $tmp;\n  },\n};\n","export default {\n  protectedKeys: [\"$_componentId\", \"$props\", \"$methods\", \"$name\"],\n};\n","import Utils from \"./utils/index.js\";\nimport Constants from \"./constants.js\";\nimport Msg from \"./msg.js\";\n\nexport default {\n  create(data, callback) {\n    let que = [];\n\n    const _debounced = Utils.debounce(() => {\n      callback(que);\n      que = [];\n    });\n\n    const _addToQue = path => {\n      que.push(path);\n      _debounced(que);\n    };\n\n    function _buildProxy(raw, tree = []) {\n      return new Proxy(raw, {\n        get: function(target, prop) {\n          if (prop === \"ReBarsPath\") return tree.join(\".\");\n          const value = Reflect.get(...arguments);\n          if (typeof value === \"function\" && target.hasOwnProperty(prop)) return value.bind(proxyData);\n          // we dont watch any of the protected items\n          if (Constants.protectedKeys.includes(tree[0])) return value;\n          if (value !== null && typeof value === \"object\" && prop !== \"methods\")\n            return _buildProxy(value, tree.concat(prop));\n          else return value;\n        },\n\n        set: function(target, prop) {\n          const ret = Reflect.set(...arguments);\n          const path = tree.concat(prop).join(\".\");\n          // we dont trigger on protected keys\n          if (!Constants.protectedKeys.includes(tree[0])) _addToQue(path);\n          return ret;\n        },\n\n        deleteProperty: function(target, prop) {\n          const ret = Reflect.deleteProperty(...arguments);\n          const path = tree.concat(prop).join(\".\");\n          if (!Constants.protectedKeys.includes(tree[0])) Msg.fail(`cannot delete protected key ${path}`);\n          _addToQue(path);\n          return ret;\n        },\n      });\n    }\n\n    const proxyData = _buildProxy(data);\n    return proxyData;\n  },\n};\n","import Msg from \"./msg.js\";\nimport Utils from \"./utils/index.js\";\n\nexport default {\n  register({ app, instance, components, helpers, template, methods, name }) {\n    Object.entries(helpers).forEach(([name, fn]) => instance.registerHelper(name, fn));\n    instance.registerHelper(\"isComponent\", cName => Object.keys(components).includes(cName));\n\n    instance.registerHelper(\"component\", function(...args) {\n      const { hash, loc } = args.pop();\n      const cName = args[0];\n      if (!components[cName]) Msg.fail(`${name}: child component \"${cName}\" is not registered`, { template, loc });\n\n      return new instance.SafeString(components[cName].instance(hash).render());\n    });\n\n    instance.registerHelper(\"debug\", (obj, { hash, data, loc }) => {\n      if (obj === undefined) Msg.fail(`${name}: undefined passed to debug`, { template, loc });\n      return new instance.SafeString(`<pre class=\"debug\" ${Utils.dom.propStr(hash)}>${Utils.stringify(obj)}</pre>`);\n    });\n\n    instance.registerHelper(\"watch\", function(...args) {\n      const { fn, hash, data, loc } = args.pop();\n      const instId = data.root.$_componentId;\n\n      const eId = Utils.randomId();\n      const _getPath = target => {\n        if (target === undefined) Msg.fail(`${name}: undefined cannot be watched`, { template, loc });\n\n        if (Utils.isProp(target))\n          Msg.warn(\n            `${name}: Do not watch $props. Each component has its own Proxy so the child will not get the update. Instead watch the item in the parent, and re-render the child component`,\n            { template, loc }\n          );\n\n        return typeof target === \"object\" ? `${target.ReBarsPath}.*` : target;\n      };\n\n      const renders = app.components.instances[instId].renders;\n\n      renders[eId] = {\n        path: args.map(_getPath),\n        render: () => fn(this),\n      };\n\n      return Utils.dom.wrapWatcher(eId, fn(this), hash);\n    });\n\n    instance.registerHelper(\"method\", function() {\n      const [str, ...args] = arguments;\n      const [methodName, type = \"click\"] = str.split(\":\");\n      const { data, loc } = args.pop();\n\n      if (!(methodName in methods))\n        Msg.fail(`${name}: \"${methodName}\" is not a method in component`, { template, loc });\n\n      const props = { \"data-rbs-method\": [data.root.$_componentId, type, methodName] };\n      if (args && args.length) props[\"data-rbs-method\"] = props[\"data-rbs-method\"].concat(args);\n      return new instance.SafeString(Utils.dom.propStr(props));\n    });\n\n    instance.registerHelper(\"bound\", (path, { hash = {}, data, loc }) => {\n      const params = [data.root.$_componentId, path];\n      let value;\n\n      try {\n        value = !path.includes(\".\")\n          ? data.root[path]\n          : path.split(\".\").reduce((pointer, seg) => pointer[seg], data.root);\n      } catch (err) {\n        Msg.fail(`${name}: bound helper was passed a bad path`, { template, loc });\n      }\n\n      const props = {\n        value,\n        ref: hash.ref || path,\n        \"data-rbs-bound\": params,\n      };\n\n      return new instance.SafeString(Utils.dom.propStr(props));\n    });\n  },\n};\n","import Utils from \"./index.js\";\n\nfunction _isEqHtml(html1, html2) {\n  const reg = new RegExp(/data-rbs(.*?)=\"(.*?)\"/g);\n  return html1.replace(reg, \"\") === html2.replace(reg, \"\");\n}\n\nfunction _insertAt($target, $child, index = 0) {\n  if (index >= $target.children.length) $target.appendChild($child);\n  else $target.insertBefore($child, $target.children[index]);\n}\n\nexport default {\n  canPatch: $target => $target.children.length && Array.from($target.children).every($el => $el.getAttribute(\"ref\")),\n  hasChanged: ($target, html) => !_isEqHtml($target.innerHTML, html),\n\n  compare({ app, $target, html }) {\n    const $shadow = Utils.dom.getShadow(html);\n    const $vChilds = Array.from($shadow.children);\n\n    // deletes and updates\n    Array.from($target.children).forEach($r => {\n      const $v = Utils.dom.findRef($shadow, $r.getAttribute(\"ref\"));\n      if (!$v) $r.remove();\n      else if (!_isEqHtml($v.innerHTML, $r.innerHTML)) $r.replaceWith($v.cloneNode(true));\n    });\n\n    // additions\n    $vChilds.forEach(($v, index) => {\n      const $r = Utils.dom.findRef($target, $v.getAttribute(\"ref\"));\n      if (!$r) _insertAt($target, $v.cloneNode(true), index);\n    });\n\n    // sorting\n    $vChilds.forEach(($v, index) => {\n      const $r = $target.children[index];\n      if ($r.getAttribute(\"ref\") !== $v.getAttribute(\"ref\")) $r.replaceWith($v.cloneNode(true));\n    });\n  },\n};\n","import Utils from \"./utils/index.js\";\nimport Msg from \"./msg.js\";\nimport Patch from \"./utils/patch.js\";\n\nexport default {\n  paths({ app, paths, renders, name }) {\n    Object.entries(renders)\n      .filter(([renderId, handler]) => {\n        const matches = paths.some(path => Utils.shouldRender(path, handler.path));\n        return matches && Utils.dom.findWatcher(renderId);\n      })\n      .forEach(([renderId, handler]) => {\n        const $target = Utils.dom.findWatcher(renderId);\n        const html = handler.render();\n\n        if (!Patch.hasChanged($target, html)) return;\n\n        if (Patch.canPatch($target)) {\n          Patch.compare({ app, $target, html });\n          Msg.log(`${name}: patching ${handler.path}`, $target);\n          return;\n        }\n\n        // warn for not having a ref on array update\n        const lenPath = handler.path.find(path => path.endsWith(\".length\"));\n        if (lenPath)\n          Msg.warn(\n            `${name}: patching \"${handler.path}\" add a ref=\"someUniqueKey\" to each to avoid re-rendering the entire Array of elements`,\n            $target\n          );\n\n        const activeRef = {\n          ref: document.activeElement.getAttribute(\"ref\"),\n          pos: document.activeElement.selectionStart,\n        };\n\n        $target.style.display = html === \"\" ? \"none\" : \"\";\n        $target.innerHTML = html;\n\n        Utils.dom.restoreCursor($target, activeRef);\n        Msg.log(`${name}: re-rendering watch block for ${handler.path}`, $target);\n      });\n\n    app.deleteOrphans();\n  },\n};\n","import Utils from \"./utils/index.js\";\nimport ProxyTrap from \"./proxy-trap.js\";\nimport Helpers from \"./helpers.js\";\nimport ReRender from \"./re-render.js\";\nimport Msg from \"./msg.js\";\n\nconst restricted = [\"component\", \"ref\", \"debug\", \"isComponent\", \"method\", \"bound\", \"watch\", \"isComponent\"];\n\n// too much destructuring making it confusting with colliding names\nfunction register(\n  { id: appId, Handlebars, trace, helpers: globalHelpers, components: globalComponents },\n  { name, template, data = () => ({}), helpers = {}, hooks = {}, methods = {}, watchers = {}, components = [] }\n) {\n  const compDef = arguments[0];\n\n  if (!name) Msg.fail(\"Every ReBars component should have a name!\", compDef);\n  if (typeof data !== \"function\") Msg.fail(`${name}: component data must be a function`, compDef);\n  if (typeof template !== \"string\") Msg.fail(\"`${name}: needs a template string`\", compDef);\n\n  const app = arguments[0];\n  const instance = Handlebars.create();\n  const templateFn = instance.compile(template);\n\n  const regComps = components.reduce(\n    (regs, def) => {\n      const reg = register(app, def);\n      regs[def.name] = reg;\n      return regs;\n    },\n    { ...globalComponents.registered }\n  );\n\n  Object.keys(data()).forEach(key => {\n    if (restricted.concat(Object.keys(helpers)).includes(key))\n      Msg.fail(`${name}: cannot use \"${key}\" in your data as it's defined as a helper`, compDef);\n  });\n\n  Helpers.register({\n    app,\n    methods,\n    instance,\n    name,\n    helpers: { ...helpers, ...globalHelpers },\n    components: regComps,\n    template,\n  });\n\n  return {\n    instance($props = {}) {\n      const id = Utils.randomId();\n      const instData = data();\n      const renders = {};\n      // validate the props, add the passed methods after you bind them or you will loose scope\n      Object.entries($props).forEach(([key, value]) => {\n        if (value === undefined)\n          Msg.warn(`${name} was passed $props.${key} as undefined. If you really meant to, pass null instead.`);\n      });\n\n      const scope = ProxyTrap.create(\n        {\n          ...instData,\n          ...{\n            $props,\n            $methods: methods,\n            $name: name,\n            $_componentId: id,\n            $el: () => Utils.dom.findComponent(id),\n            $refs: () => Utils.dom.findRefs(id),\n          },\n        },\n        paths => {\n          Msg.log(`${name}: data changed \"${paths}\"`, renders);\n          ReRender.paths({ app, paths, renders, name });\n        }\n      );\n\n      if (hooks.created) hooks.created.call(scope);\n\n      const compInst = {\n        id,\n        scope,\n        hooks,\n        renders,\n        handlers: {\n          bound(event) {\n            const [id, path] = event.target.dataset.rbsBound.split(\",\");\n            Utils.setKey(scope, path, event.target.value);\n          },\n          method(event) {\n            const [id, type, method, ...args] = event.target.dataset.rbsMethod.split(\",\");\n            scope.$methods[method](event, ...args);\n          },\n        },\n        detached() {\n          if (hooks.detached) hooks.detached.call(scope);\n        },\n        attached() {\n          if (hooks.attached) hooks.attached.call(scope);\n        },\n        render() {\n          try {\n            return Utils.dom.tagComponent(id, templateFn(scope), name);\n          } catch ({ message }) {\n            Msg.fail(`${name}: ${message}\\n${template}`);\n          }\n        },\n      };\n\n      app.components.instances[id] = compInst;\n      return compInst;\n    },\n  };\n}\n\nexport default {\n  register,\n};\n","import Utils from \"./utils/index.js\";\nimport Component from \"./component.js\";\nimport Msg from \"./msg.js\";\n\nexport default {\n  app({ $el, root, Handlebars = window.Handlebars, helpers = {}, components = [], trace = false }) {\n    if (!Handlebars) Msg.fail(\"noHbs\");\n    if (!document.body.contains($el))\n      Msg.fail(\"$el passed to ReBars app is either undefined or not present in the document.\");\n\n    window.ReBars = window.ReBars || {};\n    window.ReBars.trace = trace;\n\n    const app = {\n      id: Utils.randomId(),\n      Handlebars,\n      trace,\n      helpers,\n      $el,\n      // needs debounced to make sure we are all done\n      deleteOrphans: Utils.debounce(() => {\n        Object.keys(app.components.instances).forEach(id => {\n          if (!Utils.dom.findComponent(id)) delete app.components.instances[id];\n        });\n      }),\n\n      components: {\n        registered: {},\n        instances: {},\n      },\n    };\n\n    app.components.registered = components.reduce((regs, def) => {\n      regs[def.name] = Component.register(app, def);\n      return regs;\n    }, {});\n\n    function _comp(action, $el) {\n      const method = action === \"add\" ? \"attached\" : \"detached\";\n      const cId = $el.dataset.rbsComp;\n      app.components.instances[cId][method]();\n    }\n    function _method(action, $method) {\n      const method = action === \"add\" ? \"addEventListener\" : \"removeEventListener\";\n      const [cId, type] = $method.dataset.rbsMethod.split(\",\");\n      $method[method](type, app.components.instances[cId].handlers.method);\n    }\n    function _bound(action, $bound) {\n      const method = action === \"add\" ? \"addEventListener\" : \"removeEventListener\";\n      const [cId, path] = $bound.dataset.rbsBound.split(\",\");\n      $bound[method](\"input\", app.components.instances[cId].handlers.bound);\n    }\n\n    const observer = new MutationObserver(mutationList => {\n      mutationList.forEach(({ addedNodes, removedNodes }) => {\n        addedNodes.forEach($node => {\n          if ($node.nodeType === Node.TEXT_NODE) return;\n\n          if ($node.dataset.rbsComp) _comp(\"add\", $node);\n          if ($node.dataset.rbsMethod) _method(\"add\", $node);\n          if ($node.dataset.rbsBound) _bound(\"add\", $node);\n\n          $node.querySelectorAll(\"[data-rbs-comp]\").forEach(_comp.bind(null, \"add\"));\n          $node.querySelectorAll(\"[data-rbs-method]\").forEach(_method.bind(null, \"add\"));\n          $node.querySelectorAll(\"[data-rbs-bound]\").forEach(_bound.bind(null, \"add\"));\n        });\n\n        removedNodes.forEach($node => {\n          if ($node.nodeType === Node.TEXT_NODE) return;\n\n          if ($node.dataset.rbsMethod) _method(\"remove\", $node);\n          if ($node.dataset.rbsBound) _bound(\"remove\", $node);\n          if ($node.dataset.rbsComp) _comp(\"remove\", $node);\n\n          $node.querySelectorAll(\"[data-rbs-method]\").forEach(_method.bind(null, \"remove\"));\n          $node.querySelectorAll(\"[data-rbs-bound]\").forEach(_bound.bind(null, \"remove\"));\n          $node.querySelectorAll(\"[data-rbs-comp]\").forEach(_comp.bind(null, \"remove\"));\n        });\n      });\n    });\n\n    observer.observe($el, {\n      childList: true,\n      attributes: true,\n      subtree: true,\n    });\n\n    $el.innerHTML = Component.register(app, root)\n      .instance()\n      .render();\n    return app;\n  },\n};\n"],"names":["styles","warn","log","_msg","type","msg","payloads","str","template","loc","lines","split","slice","start","line","end","leadingSpaces","Array","length","trim","join","substr","column","concat","map","replace","_showTpl","splice","includes","forEach","console","error","Error","window","ReBars","trace","groupCollapsed","groupEnd","bind","fail","counter","dom","[object Object]","id","html","name","$tmp","this","getShadow","$root","firstElementChild","nodeName","toLowerCase","children","dataset","rbsWatch","rbsComp","innerHTML","$target","activeRef","$input","findRef","ref","isArray","Msg","focus","pos","setSelectionRange","findComponent","document","querySelector","getAttribute","cId","$refs","from","querySelectorAll","push","reduce","obj","$el","key","target","findWatcher","propStr","props","Object","entries","val","hash","tag","createElement","stringify","indent","JSON","callback","wait","immediate","timeout","callNow","next","apply","arguments","clearTimeout","setTimeout","isProp","startsWith","ReBarsPath","shouldRender","path","watch","some","watchPath","pathSegs","every","seg","index","randomId","arr","pointer","protectedKeys","data","que","_debounced","Utils","debounce","_addToQue","proxyData","_buildProxy","raw","tree","Proxy","get","prop","value","Reflect","hasOwnProperty","Constants","set","ret","deleteProperty","app","instance","components","helpers","methods","fn","registerHelper","cName","keys","args","pop","SafeString","render","undefined","instId","root","$_componentId","eId","instances","renders","wrapWatcher","methodName","data-rbs-method","params","err","data-rbs-bound","_isEqHtml","html1","html2","reg","RegExp","canPatch","hasChanged","$shadow","$vChilds","$r","$v","replaceWith","cloneNode","remove","$child","appendChild","insertBefore","_insertAt","paths","filter","renderId","handler","Patch","compare","find","endsWith","activeElement","selectionStart","style","display","restoreCursor","deleteOrphans","restricted","register","appId","Handlebars","globalHelpers","globalComponents","hooks","watchers","compDef","create","templateFn","compile","regComps","regs","def","registered","Helpers","$props","instData","scope","ProxyTrap","$methods","$name","findRefs","ReRender","created","call","compInst","handlers","event","rbsBound","setKey","method","rbsMethod","detached","attached","tagComponent","message","body","contains","_comp","action","_method","$method","_bound","$bound","bound","Component","MutationObserver","mutationList","addedNodes","removedNodes","$node","nodeType","Node","TEXT_NODE","observe","childList","attributes","subtree"],"mappings":"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"}