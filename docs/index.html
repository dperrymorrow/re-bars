<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>ReBars Docs</title>
    <link rel="stylesheet" href="dist/docs.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.5.3/handlebars.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/components/prism-markup-templating.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/components/prism-handlebars.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
  </head>

  <body>
    <main>
      <nav id="nav-container">
        <div class="logo">ReBars</div>

        <ul class="side-bar-nav">
            <li>
              <a href="#rebars">ReBars Introduction</a>
            </li>
            <li>
              <a href="#a-rebars-application">A ReBars Application</a>
                  <ul>
                      <li>
                        <a href="#getting-started">Getting Started</a>
                      </li>
                      <li>
                        <a href="#helpers">Helpers</a>
                      </li>
                      <li>
                        <a href="#methods">Methods</a>
                      </li>
                      <li>
                        <a href="#partials">Partials</a>
                      </li>
                      <li>
                        <a href="#handlebars">Handlebars</a>
                      </li>
                  </ul>
            </li>
            <li>
              <a href="#rebars-built-in-helpers">ReBars Helpers</a>
                  <ul>
                      <li>
                        <a href="#the-watch-helper">watch</a>
                      </li>
                      <li>
                        <a href="#the-on-helper">on</a>
                      </li>
                  </ul>
            </li>
            <li>
              <a href="#examples">Examples</a>
                  <ul>
                      <li>
                        <a href="#example-simple">Simple</a>
                      </li>
                      <li>
                        <a href="#example-advanced">Advanced</a>
                      </li>
                  </ul>
            </li>
        </ul>
      </nav>

      <section>
        <div class="content">
          <h1 id="the-problem">The Problem</h1>
<p>Writing Javascript for the browser used to be simple. You wrote your code, and that same code ran in the browser. <em>Your</em> code is what was running in your application. You spent your time writing Javascript, not configuring tools.</p>
<p>Things have changed. <em>Modern</em> Javascript development requires rediculous amounts of tooling and setup. Webpack, JSX, Virtual DOM, Babel, CLI bolierplates, component loaders, Style extractors, concatenators and on an on. Have you ever looked in your <code>node_modules</code> directory? Have you ever seen the filesize of your <em>built</em> app and wondered WTF is all that?</p>
<p>The thing is, <strong>WE DON&#39;T NEED THIS ANYMORE</strong>. Evergreen browsers support the features we want that we have been Babeling and polyfilling in order to use. <a href="https://caniuse.com/#feat=es6">ES6</a> brought us Promises, Modules, Classes, Template Literals, Arrow Functions, Let and Const, Default Parameters, Generators, Destructuring Assignment, Rest &amp; Spread, Map/Set &amp; WeakMap/WeakSet and many more. All the things we have been waiting for It&#39;s all there!</p>
<blockquote>
<p>So why are we still using build steps and mangling <em>our</em> beautiful code back to the stone age?</p>
</blockquote>
<h2 id="rebars">ReBars</h2>
<blockquote>
<p>ReBars is around 2.8k gzipped and has no dependancies other than Handlebars!</p>
</blockquote>
<p>ReBars started with the idea of so what do I <em>actually</em> need from a Javascript framework?</p>
<ul>
<li>a templating language <em>(Handlebars)</em></li>
<li>re-render DOM elements on data change</li>
<li>manage your event handling and scope</li>
</ul>
<p>ReBars lets you re-render tiny pieces of your application on change. You are in control of what re-renders and when. There is no Virtual DOM, no JSX, no pre-compiling. <em>Your</em> code runs on your <em>app</em>.</p>
<p>ReBars keeps your DOM in sync with your data using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">Proxy</a>, and gets out of your way. You can get back to just writing Javascript.</p>
<p>ReBars is just a Handlebars instance with helpers added. The main one being a <a href="#the-watch-helper">watch</a> block helper that lets you tell ReBars what and when to re-render.</p>
<blockquote>
<p>If you have used Handlebars, you already know ReBars</p>
</blockquote>
<div class="example demo-app" example-target="counter.js">
  <!-- example counter.js gets actually rendered here... -->
</div>

<pre><code class="language-javascript">export default {
  template: /*html*/ `
    &lt;h3&gt;
      Button have been clicked
      {{#watch}}
        {{ clicked }}
      {{/watch}}

      &lt;button {{ on click=&quot;incriment&quot; }}&gt;
        Click Me
      &lt;/button&gt;
    &lt;/h3&gt;
  `,

  data: { clicked: 0 },

  trace: true,

  methods: {
    incriment() {
      this.clicked++;
    },
  },
};
</code></pre>
<h1 id="a-rebars-application">A ReBars Application</h1>
<p>A ReBars application is a Handlebars template rendered to a specified DOM element. You can event have more than one app on a page if you desire.</p>
<h2 id="getting-started">Getting Started</h2>
<blockquote>
<p>You will need Handlebars in order to use ReBars. You can install it from NPM or use a CDN.</p>
</blockquote>
<pre><code class="language-html">&lt;!-- Handlebars from CDN ---&gt;
&lt;script src=&quot;https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.min.js&quot;&gt;&lt;/script&gt;
&lt;!-- ReBars from CDN ---&gt;
&lt;script src=&quot;https://cdn.jsdelivr.net/npm/re-bars@latest/dist/index.umd.min.js&quot;&gt;&lt;/script&gt;</code></pre>
<p>Or using NPM</p>
<pre><code class="language-shell">npm i --save-dev handlebars re-bars</code></pre>
<pre><code class="language-javascript">import Handlebars from &quot;handlebars&quot;;
import ReBars from &quot;re-bars&quot;;</code></pre>
<h2 id="creating-an-application">Creating an Application</h2>
<p>To create an app, invoke the <code>Rebars.app</code> function with an Object describing your application.</p>
<pre><code class="language-javascript">{
  Handlebars // Optional, Handlebars source, defaults to window.Handlebars
  template: ``, // The Handlebars template string
  data: {}, // data passed to your template
  helpers: {}, // Hanlebars helpers to add
  partials: {}, // Hanlebars partials to register
  trace: true, // If true logs changes and re-renders to the console
}</code></pre>
<p>This will return an Object containing</p>
<ul>
<li><code>instance</code> | <code>Object</code> the Handlebars instance the app is using</li>
<li><code>render</code> | <code>Function</code> the function</li>
</ul>
<p>You then call <code>render</code> passing in the selector for a target element to render to.</p>
<pre><code class="language-javascript">const app = ReBars.app(...your app definition);
app.render(&quot;#my-app&quot;);</code></pre>
<h2 id="custom-helpers">Custom Helpers</h2>
<p>If you would like to add helpers to all components within this application you can pass a helpers Object to the <code>ReBars.app</code> function, You would then be able to use your <code>isChecked</code> helper in any component in your application. The helpers operate just as any other Handlebars helper you would add. <code>this</code> is the scope of the render block. <a href="https://handlebarsjs.com/guide/#custom-helpers">more about Handlebars helpers here</a></p>
<pre><code class="language-javascript">ReBars.app({
  helpers: {
    isChecked(val) {
      console.log(this) // the scope of your template
      return val ? &quot;checked&quot; : &quot;&quot;;
    },
  }
  ...
});</code></pre>
<p>ReBars simply registers these helpers for you to the Handlebars instance of your app. Should you want to register more helpers yourself instead of defining them in your app definition, you can do so using the instanct returned from creating your app.</p>
<pre><code class="language-javascript">const { instance } = ReBars.app(...);
instance.registerHelper(&quot;myCustomHelper&quot;, function () {
  // helper code...
})</code></pre>
<h2 id="handlebars">Handlebars</h2>
<p>If you would like use Handlebars from a source other than <code>window</code>, you can pass your instance of Handlebars to the <code>ReBars.app</code> function. This can be helpful for test setup.</p>
<pre><code class="language-javascript">import Handlebars from &quot;somewhere&quot;;

<p>ReBars.app({
  Handlebars,
  ...
});</code></pre></p>
<h1 id="rebars-built-in-helpers">ReBars built in helpers</h1>
<p>ReBars comes with a few very powerful helpers. Of course you can add your own to any component, or at the application level just as you would with any Handlebars application.</p>
<h2 id="the-watch-helper">The {{#watch}} helper</h2>
<p>The watch helper tells ReBars to re-render this block on change of the item you pass in as the second parameter.</p>
<pre><code class="language-javascript">{
  data: {
    hobby: &quot;running&quot;,
    name: {
      first: &quot;David&quot;,
      last: &quot;Morrow&quot;
    },
    friends: [
      { name: &quot;Joe&quot;, hobby: &quot;boxing&quot; },
      { name: &quot;Fred&quot;, hobby: &quot;cooking&quot; }
    ]
  }
}</code></pre>
<p>Watch allows you to re-render a block of your template on change.
Watch takes an argument of what property to watch. The argument can be a string or an object.</p>
<pre><code class="language-html">{{#watch name }}
  My name is {{ name.first }} {{ name.last }}.
{{/watch}}</code></pre>
<p>Anytime <code>name</code> is changed the block would be re-rendered with the updated data.</p>
<blockquote>
<p>If the item you are watching is a primitive such as a <code>String</code>, or <code>Number</code>. You will need to use a string as the argument.</p>
</blockquote>
<ul>
<li><code>{{#watch name }}</code> this will watch all keys on Object <code>name</code></li>
<li><code>{{#watch &quot;name(*.)&quot; }}</code> this is the string equivalent of the above</li>
<li><code>{{#watch &quot;name.first&quot; }}</code> will only watch for changes to <code>name.first</code></li>
<li><code>{{#watch &quot;name(*.)&quot; &quot;friends.(*.).hobby&quot; }}</code> will watch for any change to name or hobby</li>
<li><code>{{#watch &quot;friends(*.)hobby&quot; }}</code> will watch for any friend index hobby change</li>
</ul>
<h3 id="watch-element-wrappers">Watch Element wrappers</h3>
<p>Each <code>{{watch}}</code> block gets wrapped in a span with an id which is stored to remember what outlet to re-render on change. Sometimes this can get in the way of styling your layouts.</p>
<p>As a solution you can add a tag, class id, any attribute you want to the watch block.</p>
<pre><code class="language-html">{{#watch name tag=&quot;p&quot; class=&quot;intro&quot; id=&quot;intro-p&quot; }}
  {{ name.first }} {{ name.last }}
{{/watch}}

<p>&lt;!-- outputs --&gt;
&lt;p class=&quot;intro&quot; id=&quot;intro-p&quot; data-rbs-watch=&quot;rbs4&quot;&gt;
  David Morrow
&lt;/p&gt;</code></pre></p>
<h3 id="watching-arrays">Watching Arrays</h3>
<p><code>{{#watch}}</code> can be used on an <code>Array</code> as well.</p>
<blockquote>
<p>Be sure to use the ref helper <code>{{ ref &quot;somethingUnique&quot; }}</code> on each item enabling ReBars to only re-render changed items. <em>Each ref must be unique</em></p>
</blockquote>
<pre><code class="language-html">&lt;ul&gt;
  {{#watch &quot;friends(*.)&quot; }}
    {{#each friends as | friend | }}
      &lt;li {{ ref friend.name }}&gt;
        {{ friend.name }} likes to {{ friend.hobby }}
      &lt;/li&gt;
    {{/each}}
  {{/watch}}
&lt;/ul&gt;</code></pre>
<h2 id="the-on-helper">The {{on}} helper</h2>
<p>This allows you to bind your component&#39;s methods to events in your template.</p>
<pre><code class="language-html">&lt;button {{ on click=&quot;save&quot; &quot;param1&quot; &quot;param2&quot; }}&gt;Save&lt;/button&gt;</code></pre>
<pre><code class="language-javascript">methods: {
  save({ event }, arg1, arg1) {
    console.log(arg1, arg1);
    // param1 param2
  }
}</code></pre>
<blockquote>
<p>You method, when invoked, the first argument will always be the event, followed by any additional parameters. Parameters must be primitive and not full Objects or Arrays.</p>
</blockquote>
<ul>
<li>the first parameter is the methodName separated by <code>:eventType</code>, if none is specified <code>click</code> will be the event</li>
<li>you can add as many other parameters as you would like to your method call</li>
</ul>
<h2 id="the-component-helper">The {{component}} helper</h2>
<p>This allows you to render child components from withing the component you are in. It takes one parameter, the name of the component to render. This will render a registered component to the DOM of the parent component.</p>
<blockquote>
<p>The &quot;name&quot; of the component is the name property in the component&#39;s definition. Not the name you imported it as.</p>
</blockquote>
<pre><code class="language-html">{{ component &quot;myComponentName&quot; }}</code></pre>
<p>You can pass props to the component. Any props sent in will be merged with the component&#39;s data. If a prop is a method, it will be merged into the child component&#39;s methods. The &quot;friend&quot; component will have friend defined in it&#39;s data.</p>
<pre><code class="language-html">&lt;ul&gt;
  {{#each friends as | friend | }}
    {{ component &quot;friend&quot; friend=friend }}
  {{/each}}
&lt;/ul&gt;</code></pre>


          <div class="page" id="examples">

            <h2 id="example-simple">Todo List Simple</h2>
            <p>A simple, one component application that tracks todos.</p>

            <div id="demo-app-simple" class="demo-app">
              <!-- the render target -->
            </div>

            <pre><code class="language-javascript">export default {
  template: /*html*/ `
  &lt;div&gt;
    &lt;div class=&quot;header-container&quot;&gt;
      &lt;h1&gt;
        {{#watch}}
          &lt;span&gt;{{ header.title }}&lt;/span&gt;
          &lt;small&gt;{{ header.description }}&lt;/small&gt;
        {{/watch}}
      &lt;/h1&gt;

      &lt;label&gt;
        Title:
        &lt;input
          type=&quot;text&quot;
          value=&quot;{{ header.title }}&quot;
          {{ on input=&quot;updateTitle&quot; }}
        /&gt;
      &lt;/label&gt;

      &lt;label&gt;
        Description:
        &lt;input
          type=&quot;text&quot;
          value=&quot;{{ header.description }}&quot;
          {{ on input=&quot;updateDescription&quot; }}
        /&gt;
      &lt;/label&gt;
    &lt;/div&gt;

    &lt;ul class=&quot;simple&quot;&gt;
      {{#watch &quot;todos(.*)&quot; }}
        {{#each todos }}
          &lt;li {{ ref id }}&gt;
            &lt;div class=&quot;todo&quot;&gt;
              &lt;label&gt;
                &lt;input
                  type=&quot;checkbox&quot;
                  {{ on click=&quot;toggleDone&quot; }}
                  {{ isChecked }}
                /&gt;
                {{#if done }}
                  &lt;s&gt;{{ name }}&lt;/s&gt;
                {{else}}
                  &lt;strong&gt;{{ name }}&lt;/strong&gt;
                {{/if}}
              &lt;/label&gt;

              &lt;div class=&quot;actions&quot;&gt;
                &lt;button {{ on click=&quot;deleteTodo&quot; }}&gt;
                  delete
                &lt;/button&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/li&gt;
        {{/each}}
      {{/watch}}
    &lt;/ul&gt;

    {{#watch}}
      {{#if adding }}
        &lt;form&gt;
          &lt;input type=&quot;text&quot; {{ ref &quot;newName&quot; }} placeholder=&quot;the new todo&quot; /&gt;
          &lt;button {{ on click=&quot;addItem&quot; }}&gt;Add todo&lt;/button&gt;
          &lt;button {{ on click=&quot;toggleCreate&quot; }}&gt;Cancel&lt;/button&gt;
        &lt;/form&gt;
      {{else}}
        &lt;button {{ on click=&quot;toggleCreate&quot; }}&gt;Add another&lt;/button&gt;
      {{/if}}
    {{/watch}}
  &lt;/div&gt;
  `,

  trace: true,

  data: {
    adding: false,
    header: {
      title: &quot;Todos&quot;,
      description: &quot;some things that need done&quot;,
    },
    todos: [
      {
        done: false,
        name: &quot;Grocery Shopping&quot;,
        id: 22,
      },
      {
        done: true,
        name: &quot;Paint the House&quot;,
        id: 44,
      },
    ],
  },

  helpers: {
    isChecked() {
      return this.done ? &quot;checked&quot; : &quot;&quot;;
    },
  },

  methods: {
    updateTitle({ event }) {
      this.header.title = event.target.value;
    },

    updateDescription({ event }) {
      this.header.description = event.target.value;
    },

    addItem({ $refs, event }) {
      event.preventDefault();
      const $input = $refs().newName;

      this.todos.push({
        id: new Date().getTime(),
        done: false,
        name: $input.value,
      });

      $input.value = &quot;&quot;;
    },

    findTodo({ rootData }, id) {
      return rootData.todos.find(item =&gt; item.id === parseInt(id));
    },

    deleteTodo({ rootData }) {
      const index = rootData.todos.findIndex(t =&gt; t.id === this.id);
      rootData.todos.splice(index, 1);
    },

    toggleDone({ event, methods }) {
      const todo = methods.findTodo(this.id);
      todo.done = !this.done;
    },

    toggleCreate({ event }) {
      event.preventDefault();
      this.adding = !this.adding;
    },
  },
};
</code></pre>


            <h2 id="example-advanced">Todo List Advanced</h2>
            <p>Same concept, a little more advanced with sub components, sorting and filtering.</p>

            <div id="demo-app-advanced" class="demo-app">
              <!-- the render target -->
            </div>

            <!-- tab container -->
            <div class="tab-container">
              <nav class="tabs">
                <button class="active" data-target="app">app.js</button>
                <button data-target="add">add.js</button>
                <button data-target="filters">filters.js</button>
                <button data-target="todo">todo.js</button>
              </nav>

              <div class="tab-content">
                <div id="app" class="active">
                  <pre><code class="language-javascript">import Add from &quot;./add.js&quot;;
import Todo from &quot;./todo.js&quot;;
import Filters from &quot;./filters.js&quot;;

const { localStorage } = window;
const storageKey = &quot;rebars-todo&quot;;
const store = localStorage.getItem(storageKey) || &quot;{}&quot;;
const { todos, header } = JSON.parse(store);

export default {
  template: /*html*/ `
    &lt;div class=&quot;header-container&quot;&gt;
      {{#watch tag=&quot;h1&quot; }}
        &lt;span&gt;{{ header.title }}&lt;/span&gt;
        &lt;small&gt;{{ header.description }}&lt;/small&gt;
      {{/watch}}

      &lt;label&gt;
        Title:
        &lt;input type=&quot;text&quot; value=&quot;{{ header.title }}&quot; {{ on input=&quot;updateTitle&quot; }} /&gt;
      &lt;/label&gt;

      &lt;label&gt;
        Description:
        &lt;input type=&quot;text&quot; value=&quot;{{ header.description }}&quot; {{ on input=&quot;updateDescription&quot; }} /&gt;
      &lt;/label&gt;
    &lt;/div&gt;

    {{&gt; Filters }}

    {{#watch &quot;filters(.*)&quot; &quot;todos(.*)&quot; tag=&quot;ul&quot;}}
      {{#each filteredTodos as | todo | }}
        {{&gt; Todo todo=todo }}
      {{/each}}
    {{/watch}}

    {{&gt; Add }}
  `,

  trace: true,

  watch: {
    &quot;(.*)&quot;() {
      localStorage.setItem(storageKey, JSON.stringify(this.data));
    },
  },

  data: {
    header: header || {
      title: &quot;ReBars Todos&quot;,
      description: &quot;Some things that need done&quot;,
    },

    todos: todos || [
      {
        done: false,
        name: &quot;Wash the car&quot;,
        updated: &quot;3/1/2020, 12:37:10 PM&quot;,
        id: 21,
      },
      {
        done: true,
        name: &quot;Shopping for groceries&quot;,
        updated: &quot;2/27/2020, 2:37:10 PM&quot;,
        id: 22,
      },

      {
        done: false,
        name: &quot;Code some Javascript&quot;,
        updated: &quot;1/27/2020, 9:37:10 AM&quot;,
        id: 23,
      },

      {
        done: true,
        name: &quot;Go for a run&quot;,
        updated: &quot;1/15/2020, 10:37:10 PM&quot;,
        id: 24,
      },
    ],
  },

  partials: {
    Todo,
    Filters,
    Add,
  },

  methods: {
    updateTitle({ event, methods }) {
      this.header.title = event.target.value;
    },

    updateDescription({ event, methods }) {
      this.header.description = event.target.value;
    },
  },
};
</code></pre>

                </div>

                <div id="add">
                  <pre><code class="language-javascript">export default {
  template: /*html*/ `
  &lt;div&gt;
    {{#watch}}
      {{#if isAdding }}
        &lt;form&gt;
          &lt;input type=&quot;text&quot; {{ ref &quot;newName&quot; }} placeholder=&quot;the new todo&quot; &gt;
          &lt;button {{ on click=&quot;addItem&quot; }}&gt;Add todo&lt;/button&gt;
          &lt;button {{ on click=&quot;toggleAdd&quot; }}&gt;Cancel&lt;/button&gt;
        &lt;/form&gt;
      {{ else }}
        &lt;button {{ on click=&quot;toggleAdd&quot; }}&gt;Add another&lt;/button&gt;
      {{/if}}
    {{/watch}}
  &lt;/div&gt;`,

  data: {
    isAdding: false,
  },

  methods: {
    async toggleAdd({ $nextTick, event, methods, $refs }) {
      event.preventDefault();
      this.isAdding = !this.isAdding;

      await $nextTick();
      const $input = $refs().newName;
      if ($input) $input.focus();
    },

    addItem({ event, methods, $refs }) {
      event.preventDefault();
      const $input = $refs().newName;

      this.todos.push({
        name: $input.value,
        id: new Date().getTime(),
        done: false,
        updated: new Date().toLocaleString(),
      });

      this.filters.filterBy = null;
      $input.value = &quot;&quot;;
      $input.focus();
    },
  },
};
</code></pre>

                </div>

                <div id="filters">
                  <pre><code class="language-javascript">export default {
  template: /*html*/ `
    &lt;div class=&quot;filters&quot;&gt;
      &lt;div&gt;
        {{#watch &quot;filters.filterBy&quot; }}
          &lt;button {{ disabledIf &quot;completed&quot; }} {{ on &quot;completed&quot; click=&quot;filterBy&quot; }}&gt;Show Only Completed&lt;/button&gt;
          &lt;button {{ disabledIf &quot;incomplete&quot; }} {{ on &quot;incomplete&quot;  click=&quot;filterBy&quot; }}&gt;Show Only Incompleted&lt;/button&gt;
          &lt;button {{ disabledIf null }} {{ on null click=&quot;filterBy&quot;  }}&gt;Show All&lt;/button&gt;
        {{/watch}}
      &lt;/div&gt;

      &lt;div&gt;
        &lt;select {{ on change=&quot;sortBy&quot; }}&gt;
          &lt;option {{ selectedSort &quot;name&quot; }} value=&quot;name&quot;&gt;Sort by Name&lt;/option&gt;
          &lt;option {{ selectedSort &quot;updated&quot; }} value=&quot;updated&quot;&gt;Sort by Updated at&lt;/option&gt;
          &lt;option {{ selectedSort &quot;completed&quot; }} value=&quot;completed&quot;&gt;Sort by Completed&lt;/option&gt;
        &lt;/select&gt;

        &lt;select {{ on change=&quot;sortDir&quot; }}&gt;
          &lt;option {{ selectedDir &quot;asc&quot; }} value=&quot;asc&quot;&gt;Ascending&lt;/option&gt;
          &lt;option {{ selectedDir &quot;desc&quot; }} value=&quot;desc&quot;&gt;Descending&lt;/option&gt;
        &lt;/select&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  `,

  helpers: {
    selectedSort(val) {
      return this.filters.sortBy === val ? &quot;selected&quot; : &quot;&quot;;
    },

    selectedDir(val) {
      return this.filters.sortDir === val ? &quot;selected&quot; : &quot;&quot;;
    },

    disabledIf(val) {
      return this.filters.filterBy === val ? &quot;disabled&quot; : &quot;&quot;;
    },
  },

  data: {
    filteredTodos() {
      const { filterBy, sortBy, sortDir } = this.data.filters;

      const filtered = this.data.todos.filter(todo =&gt; {
        if (filterBy === &quot;incomplete&quot;) return !todo.done;
        if (filterBy === &quot;completed&quot;) return todo.done;
        return true;
      });

      filtered.sort((a, b) =&gt; {
        if (sortBy === &quot;name&quot;) return a.name.localeCompare(b.name);
        else if (sortBy === &quot;completed&quot;) return a.done - b.done;
        else return new Date(a.updated).getTime() - new Date(b.updated).getTime();
      });

      if (sortDir === &quot;desc&quot;) filtered.reverse();

      return filtered;
    },

    filters: {
      filterBy: null,
      sortBy: &quot;completed&quot;,
      sortDir: &quot;asc&quot;,
    },
  },

  methods: {
    sortBy({ methods, event }) {
      this.filters.sortBy = event.target.value;
    },

    sortDir({ event, methods }) {
      this.filters.sortDir = event.currentTarget.value;
    },

    filterBy({ methods }, filterBy) {
      this.filters.filterBy = filterBy;
    },
  },
};
</code></pre>

                </div>

                <div id="todo">
                  <pre><code class="language-javascript">export default {
  template: /*html*/ `
    &lt;li {{ ref todo.id }}&gt;
      &lt;div class=&quot;todo&quot;&gt;
        {{#if todo.isEditing }}
          &lt;input type=&quot;text&quot; {{ ref &quot;editInput&quot; }} value=&quot;{{ todo.name }}&quot; {{ on keydown=&quot;saveOnEnter&quot; }}&gt;
          &lt;button {{ on click=&quot;save&quot; }}&gt;done&lt;/button&gt;
        {{ else }}
          &lt;label&gt;
            &lt;input type=&quot;checkbox&quot; {{ isChecked }} {{ on click=&quot;toggleDone&quot; }} /&gt;
            {{#if todo.done }}
              &lt;s&gt;{{ todo.name }}&lt;/s&gt;
            {{else}}
              &lt;strong&gt;{{ todo.name }}&lt;/strong&gt;
            {{/if}}
          &lt;/label&gt;

          &lt;div class=&quot;actions&quot;&gt;
            &lt;span class=&quot;date&quot;&gt;{{ todo.updatedAt }}&lt;/span&gt;
            &lt;button {{ on click=&quot;remove&quot; }}&gt;delete&lt;/button&gt;
            &lt;button {{ on click=&quot;edit&quot; }}&gt;edit&lt;/button&gt;
          &lt;/div&gt;
        {{/if}}
      &lt;/div&gt;
    &lt;/li&gt;
  `,

  helpers: {
    isChecked() {
      return this.todo.done ? &quot;checked&quot; : &quot;&quot;;
    },
  },

  methods: {
    remove({ methods, rootData }) {
      const index = rootData.todos.findIndex(todo =&gt; todo.id === this.id);
      rootData.todos.splice(index, 1);
    },

    saveOnEnter({ event, methods }) {
      if (event.code == &quot;Enter&quot;) methods.save();
    },

    save({ event, $refs }) {
      event.preventDefault();
      this.todo.name = $refs().editInput.value;
      this.todo.isEditing = false;
    },

    edit() {
      this.todo.isEditing = true;
    },

    toggleDone({ methods }) {
      this.todo.done = !this.todo.done;
    },
  },
};
</code></pre>

                </div>
              </div>
            </div>
            <!-- end tab container -->

          </div>

        </div>
      </section>
    </main>

    <script src="dist/docs.min.js"></script>

  </body>
</html>
